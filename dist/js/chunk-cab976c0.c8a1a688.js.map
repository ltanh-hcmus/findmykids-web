{"version":3,"sources":["webpack:///./src/components/auth/Login.vue?79ad","webpack:///src/components/auth/Login.vue","webpack:///./src/components/auth/Login.vue?38a8","webpack:///./src/components/auth/Login.vue","webpack:///./node_modules/vue-recaptcha/dist/vue-recaptcha.es.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticStyle","staticClass","attrs","scopedSlots","_u","key","fn","valid","errors","model","value","callback","$$v","UserName","trim","expression","_v","_s","PassWord","siteKey","on","onCaptchaVerified","onCaptchaExpired","isCaptchaChecked","clientLogin","staticRenderFns","result","component","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","defer","state","callbacks","resolve","val","len","then","cb","push","deferred","resolved","promise","ownProp","createRecaptcha","notify","wait","ele","options","window","grecaptcha","reset","widgetId","assertLoaded","execute","checkRecaptchaLoad","Error","recaptcha","vueRecaptchaApiLoaded","VueRecaptcha","name","props","sitekey","type","String","required","theme","badge","size","tabindex","loadRecaptchaScript","Boolean","recaptchaScriptId","recaptchaHost","language","beforeMount","document","getElementById","script","createElement","id","src","async","head","appendChild","mounted","_this","opts","$props","emitVerify","emitExpired","emitError","container","$slots","$el","children","$widgetId","$emit","methods","response","h"],"mappings":"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","file":"js/chunk-cab976c0.c8a1a688.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ValidationObserver',{ref:\"observer\"},[_c('b-container',{staticStyle:{\"min-height\":\"800px\"}},[_c('b-row',[_c('b-col',{staticClass:\"mx-auto\",staticStyle:{\"margin-top\":\"150px\"},attrs:{\"lg\":\"5\"}},[_c('b-card',{staticClass:\"shadow-sm\"},[_c('b-card-text',[_c('b-jumbotron',{staticStyle:{\"padding\":\"0rem 2rem\",\"background-color\":\"transparent\",\"margin-bottom\":\"0px\",\"text-align\":\"center\"},attrs:{\"header\":\"Find My Kids\"}})],1),_c('b-form',[_c('b-form-group',[_c('ValidationProvider',{attrs:{\"rules\":\"required\",\"name\":\"Tên đăng nhập\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"state\":errors[0] ? false : (valid ? true : null),\"placeholder\":\"Tên đăng nhập\",\"description\":\"Bắt buộc nhập!\"},model:{value:(_vm.UserName),callback:function ($$v) {_vm.UserName=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"UserName\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":errors[0] ? false : (valid ? true : null)}},[_vm._v(_vm._s(errors[0]))])]}}])})],1),_c('b-form-group',[_c('ValidationProvider',{attrs:{\"rules\":\"required\",\"name\":\"Mật khẩu\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"type\":\"password\",\"state\":errors[0] ? false : (valid ? true : null),\"placeholder\":\"Mật khẩu\",\"description\":\"Bắt buộc nhập!\"},model:{value:(_vm.PassWord),callback:function ($$v) {_vm.PassWord=$$v},expression:\"PassWord\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":errors[0] ? false : (valid ? true : null)}},[_vm._v(_vm._s(errors[0]))])]}}])})],1),_c('b-form-group',[_c('vue-recaptcha',{ref:\"recaptcha\",attrs:{\"sitekey\":this.siteKey,\"loadRecaptchaScript\":true},on:{\"verify\":_vm.onCaptchaVerified,\"expired\":_vm.onCaptchaExpired}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.isCaptchaChecked}},[_vm._v(\"Captcha không được bỏ trống!\")])],1),_c('b-form-group',[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.clientLogin}},[_vm._v(\"Đăng nhập\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <ValidationObserver ref=\"observer\">\r\n        <b-container style=\"min-height: 800px\">\r\n            <b-row>\r\n                <b-col lg=\"5\" class=\"mx-auto\" style=\"margin-top:150px;\">\r\n                    <b-card class=\"shadow-sm\">\r\n                        <b-card-text>\r\n                            <b-jumbotron\r\n                                style=\"padding: 0rem 2rem; background-color: transparent; margin-bottom: 0px; text-align: center\"\r\n                                header=\"Find My Kids\"\r\n                            ></b-jumbotron>\r\n                        </b-card-text>\r\n                        <b-form>\r\n                            <b-form-group>\r\n                                <ValidationProvider\r\n                                    rules=\"required\"\r\n                                    name=\"Tên đăng nhập\"\r\n                                    v-slot=\"{ valid, errors }\"\r\n                                >\r\n                                    <b-form-input\r\n                                        v-model.trim=\"UserName\"\r\n                                        :state=\"errors[0] ? false : (valid ? true : null)\"\r\n                                        placeholder=\"Tên đăng nhập\"\r\n                                        description=\"Bắt buộc nhập!\"\r\n                                    ></b-form-input>\r\n                                    <b-form-invalid-feedback\r\n                                        :state=\"errors[0] ? false : (valid ? true : null)\"\r\n                                    >{{ errors[0] }}</b-form-invalid-feedback>\r\n                                </ValidationProvider>\r\n                            </b-form-group>\r\n\r\n                            <b-form-group>\r\n                                <ValidationProvider\r\n                                    rules=\"required\"\r\n                                    name=\"Mật khẩu\"\r\n                                    v-slot=\"{ valid, errors }\"\r\n                                >\r\n                                    <b-form-input\r\n                                        type=\"password\"\r\n                                        v-model=\"PassWord\"\r\n                                        :state=\"errors[0] ? false : (valid ? true : null)\"\r\n                                        placeholder=\"Mật khẩu\"\r\n                                        description=\"Bắt buộc nhập!\"\r\n                                    ></b-form-input>\r\n                                    <b-form-invalid-feedback\r\n                                        :state=\"errors[0] ? false : (valid ? true : null)\"\r\n                                    >{{ errors[0] }}</b-form-invalid-feedback>\r\n                                </ValidationProvider>\r\n                            </b-form-group>\r\n\r\n                            <b-form-group>\r\n                                <vue-recaptcha\r\n                                    ref=\"recaptcha\"\r\n                                    :sitekey=\"this.siteKey\"\r\n                                    :loadRecaptchaScript=\"true\"\r\n                                    @verify=\"onCaptchaVerified\"\r\n                                    @expired=\"onCaptchaExpired\"\r\n                                ></vue-recaptcha>\r\n                                <b-form-invalid-feedback\r\n                                    :state=\"isCaptchaChecked\"\r\n                                >Captcha không được bỏ trống!</b-form-invalid-feedback>\r\n                            </b-form-group>\r\n\r\n                            <b-form-group>\r\n                                <b-button variant=\"primary\" @click=\"clientLogin\">Đăng nhập</b-button>\r\n                            </b-form-group>\r\n                        </b-form>\r\n                    </b-card>\r\n                </b-col>\r\n            </b-row>\r\n        </b-container>\r\n    </ValidationObserver>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions, mapMutations, mapGetters } from \"vuex\";\r\nimport { ValidationObserver, ValidationProvider } from \"vee-validate\";\r\nimport VueRecaptcha from \"vue-recaptcha\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            isCaptchaChecked: true\r\n        };\r\n    },\r\n    components: {\r\n        ValidationObserver,\r\n        ValidationProvider,\r\n        VueRecaptcha\r\n    },\r\n    computed: {\r\n        ...mapState(\"auth\", {\r\n            siteKey: state => state.siteKey\r\n        }),\r\n        UserName: {\r\n            get() {\r\n                return this.$store.state.auth.obj.UserName;\r\n            },\r\n            set(value) {\r\n                this.updateObj([\"UserName\", value]);\r\n            }\r\n        },\r\n        PassWord: {\r\n            get() {\r\n                return this.$store.state.auth.obj.PassWord;\r\n            },\r\n            set(value) {\r\n                this.updateObj([\"PassWord\", value]);\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        onCaptchaVerified(recaptchaToken) {\r\n            this.updateCaptchaChecked(true);\r\n            this.updateReCaptchaToken(recaptchaToken);\r\n        },\r\n        onCaptchaExpired: function() {\r\n            this.$refs.recaptcha.reset();\r\n            this.updateCaptchaChecked(false);\r\n            this.updateReCaptchaToken(\"\");\r\n        },\r\n        ...mapMutations(\"loading\", [\"updateIsLoading\"]),\r\n        ...mapActions(\"auth\", [\"login\"]),\r\n        ...mapMutations(\"auth\", [\"updateObj\"]),\r\n        ...mapMutations(\"auth\", [\r\n            \"updateReCaptchaToken\",\r\n            \"updateCaptchaChecked\"\r\n        ]),\r\n        ...mapGetters(\"auth\", [\"isCaptcha\"]),\r\n        async clientLogin() {\r\n            const hasError = await this.$refs.observer.validate();\r\n            this.isCaptchaChecked = this.isCaptcha();\r\n            if (!hasError || !this.isCaptchaChecked) {\r\n                return;\r\n            }\r\n\r\n            try {\r\n                this.updateIsLoading(true);\r\n                const result = await this.login();\r\n                if (result) {\r\n                    this.$router.push(\"/\").catch(error => {\r\n                        if (error.name != \"NavigationDuplicated\") {\r\n                            throw error;\r\n                        }\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                throw new error();\r\n            } finally {\r\n                this.updateIsLoading(false);\r\n            }\r\n        },\r\n        newForm() {\r\n            this.updateObj([\"UserName\", null]);\r\n            this.updateObj([\"PassWord\", null]);\r\n\r\n            requestAnimationFrame(() => {\r\n                this.$refs.observer.reset();\r\n            });\r\n\r\n            this.isCaptchaChecked = true;\r\n            this.$refs.recaptcha.reset();\r\n        }\r\n    },\r\n    async mounted() {\r\n        this.updateIsLoading(true);\r\n        this.newForm();\r\n        this.updateIsLoading(false);\r\n    }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=493cfa25&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar defer = function defer() {\n  var state = false; // Resolved or not\n\n  var callbacks = [];\n\n  var resolve = function resolve(val) {\n    if (state) {\n      return;\n    }\n\n    state = true;\n\n    for (var i = 0, len = callbacks.length; i < len; i++) {\n      callbacks[i](val);\n    }\n  };\n\n  var then = function then(cb) {\n    if (!state) {\n      callbacks.push(cb);\n      return;\n    }\n\n    cb();\n  };\n\n  var deferred = {\n    resolved: function resolved() {\n      return state;\n    },\n    resolve: resolve,\n    promise: {\n      then: then\n    }\n  };\n  return deferred;\n};\n\nvar ownProp = Object.prototype.hasOwnProperty;\nfunction createRecaptcha() {\n  var deferred = defer();\n  return {\n    notify: function notify() {\n      deferred.resolve();\n    },\n    wait: function wait() {\n      return deferred.promise;\n    },\n    render: function render(ele, options, cb) {\n      this.wait().then(function () {\n        cb(window.grecaptcha.render(ele, options));\n      });\n    },\n    reset: function reset(widgetId) {\n      if (typeof widgetId === 'undefined') {\n        return;\n      }\n\n      this.assertLoaded();\n      this.wait().then(function () {\n        return window.grecaptcha.reset(widgetId);\n      });\n    },\n    execute: function execute(widgetId) {\n      if (typeof widgetId === 'undefined') {\n        return;\n      }\n\n      this.assertLoaded();\n      this.wait().then(function () {\n        return window.grecaptcha.execute(widgetId);\n      });\n    },\n    checkRecaptchaLoad: function checkRecaptchaLoad() {\n      if (ownProp.call(window, 'grecaptcha') && ownProp.call(window.grecaptcha, 'render')) {\n        this.notify();\n      }\n    },\n    assertLoaded: function assertLoaded() {\n      if (!deferred.resolved()) {\n        throw new Error('ReCAPTCHA has not been loaded');\n      }\n    }\n  };\n}\nvar recaptcha = createRecaptcha();\n\nif (typeof window !== 'undefined') {\n  window.vueRecaptchaApiLoaded = recaptcha.notify;\n}\n\nvar VueRecaptcha = {\n  name: 'VueRecaptcha',\n  props: {\n    sitekey: {\n      type: String,\n      required: true\n    },\n    theme: {\n      type: String\n    },\n    badge: {\n      type: String\n    },\n    type: {\n      type: String\n    },\n    size: {\n      type: String\n    },\n    tabindex: {\n      type: String\n    },\n    loadRecaptchaScript: {\n      type: Boolean,\n      \"default\": false\n    },\n    recaptchaScriptId: {\n      type: String,\n      \"default\": '__RECAPTCHA_SCRIPT'\n    },\n    recaptchaHost: {\n      type: String,\n      \"default\": 'www.google.com'\n    },\n    language: {\n      type: String,\n      \"default\": ''\n    }\n  },\n  beforeMount: function beforeMount() {\n    if (this.loadRecaptchaScript) {\n      if (!document.getElementById(this.recaptchaScriptId)) {\n        // Note: vueRecaptchaApiLoaded load callback name is per the latest documentation\n        var script = document.createElement('script');\n        script.id = this.recaptchaScriptId;\n        script.src = \"https://\" + this.recaptchaHost + \"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl=\" + this.language;\n        script.async = true;\n        script.defer = true;\n        document.head.appendChild(script);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    recaptcha.checkRecaptchaLoad();\n\n    var opts = _extends({}, this.$props, {\n      callback: this.emitVerify,\n      'expired-callback': this.emitExpired,\n      'error-callback': this.emitError\n    });\n\n    var container = this.$slots[\"default\"] ? this.$el.children[0] : this.$el;\n    recaptcha.render(container, opts, function (id) {\n      _this.$widgetId = id;\n\n      _this.$emit('render', id);\n    });\n  },\n  methods: {\n    reset: function reset() {\n      recaptcha.reset(this.$widgetId);\n    },\n    execute: function execute() {\n      recaptcha.execute(this.$widgetId);\n    },\n    emitVerify: function emitVerify(response) {\n      this.$emit('verify', response);\n    },\n    emitExpired: function emitExpired() {\n      this.$emit('expired');\n    },\n    emitError: function emitError() {\n      this.$emit('error');\n    }\n  },\n  render: function render(h) {\n    return h('div', {}, this.$slots[\"default\"]);\n  }\n};\n\nexport default VueRecaptcha;\n"],"sourceRoot":""}